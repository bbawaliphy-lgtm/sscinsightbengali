<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test 10 - SSC INSIGHT BENGALI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;600;700&family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        body {
            font-family: 'Poppins', 'Noto Sans Bengali', sans-serif;
            background: #020617;
            color: #e2e8f0;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }
        /* Essential Styles */
        .glass-panel {
            background: rgba(15, 23, 42, 0.75);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }
        .bengali-text { font-family: 'Noto Sans Bengali', sans-serif; }
        .fade-in { animation: fadeIn 0.6s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: rgba(30, 41, 59, 0.5); border-radius: 10px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #475569; border-radius: 10px; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <!-- Header for Context -->
    <header class="fixed top-0 left-0 right-0 p-4 flex justify-between items-center z-50 bg-slate-900/50 backdrop-blur">
         <div class="flex items-center text-slate-300">
             <i class="fas fa-arrow-left mr-2 cursor-pointer hover:text-white" onclick="history.back()"></i>
             <span class="font-bold">Test 10: Spotting Errors</span>
         </div>
         <div class="w-1/3 max-w-xs bg-slate-800 h-2 rounded-full overflow-hidden">
             <div id="progress-bar" class="h-full bg-cyan-500 transition-all duration-300" style="width: 0%"></div>
         </div>
    </header>

    <!-- Quiz Container -->
    <div id="quiz-container" class="max-w-3xl w-full mt-10">
        <div class="glass-panel rounded-3xl shadow-2xl overflow-hidden fade-in border border-slate-600/50">
            <!-- Question Header -->
            <div class="bg-slate-900/60 px-6 py-4 border-b border-slate-700 flex justify-between items-center backdrop-blur-sm">
                <div class="flex items-center space-x-2">
                     <span class="w-2 h-2 rounded-full bg-cyan-500 animate-pulse"></span>
                     <span class="text-sm font-bold text-slate-300 tracking-wide">Question <span id="current-q-num" class="text-white text-base">1</span><span class="text-slate-500">/25</span></span>
                </div>
                <span id="score-display" class="text-sm font-bold text-cyan-400 bg-cyan-900/20 border border-cyan-500/30 px-4 py-1.5 rounded-full shadow-inner">Score: 0</span>
            </div>

            <!-- Question Body -->
            <div class="p-6 md:p-10">
                <h3 id="question-text" class="text-xl md:text-2xl font-bold text-white mb-8 leading-relaxed drop-shadow-sm">
                    <!-- Question goes here -->
                </h3>

                <!-- Options Grid -->
                <div id="options-container" class="grid grid-cols-1 gap-4 mb-8">
                    <!-- Buttons injected by JS -->
                </div>

                <!-- Feedback & Explanation Section -->
                <div id="feedback-section" class="hidden mt-8 border-t border-slate-700/50 pt-8 animation-fade-in">
                    <!-- Correct/Wrong Message -->
                    <div id="feedback-message" class="flex items-center mb-6 p-4 rounded-xl border">
                        <!-- Injected by JS -->
                    </div>

                    <!-- Toggle Explanation Button -->
                    <button id="toggle-explanation-btn" onclick="toggleExplanation()" class="group text-cyan-400 hover:text-cyan-300 font-semibold text-sm flex items-center mb-4 focus:outline-none transition-colors">
                        <span class="bg-cyan-500/10 p-2 rounded-lg mr-3 group-hover:bg-cyan-500/20 transition-colors"><i class="fas fa-lightbulb"></i></span>
                        <span class="underline decoration-cyan-500/30 underline-offset-4 group-hover:decoration-cyan-500">See Detailed Solution</span>
                    </button>

                    <!-- Detailed Explanation Content -->
                    <div id="explanation-content" class="hidden bg-slate-900/60 p-6 rounded-2xl border border-slate-700/50 text-slate-300 custom-scroll max-h-96 overflow-y-auto shadow-inner leading-relaxed">
                        <!-- Explanation injected by JS -->
                    </div>
                </div>
            </div>

            <!-- Footer Navigation -->
            <div class="bg-slate-900/40 px-6 py-5 border-t border-slate-700/50 flex justify-end">
                <button id="next-btn" onclick="nextQuestion()" class="hidden bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-cyan-900/20 transition-all transform hover:-translate-y-0.5 flex items-center">
                    Next Question <i class="fas fa-arrow-right ml-2"></i>
                </button>
                <button id="finish-btn" onclick="finishQuiz()" class="hidden bg-yellow-600 hover:bg-yellow-500 text-white font-bold py-3 px-8 rounded-xl shadow-lg shadow-yellow-900/20 transition-all transform hover:-translate-y-0.5 flex items-center">
                    Finish Test <i class="fas fa-flag-checkered ml-2"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Test Data (Test 10 - Spotting Errors)
        // Format: Question asks to identify the error segment. Options are the segments.
        const questionsTest10 = [
            {q: "Identify the error: 'The team / have won / the match / yesterday.'", options: ["The team", "have won", "the match", "yesterday"], correct: 1, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Yesterday' indicates Past Indefinite tense. 'Have won' (Present Perfect) is incorrect. It should be 'won'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Yesterday' থাকলে Past Indefinite Tense (V2) হয়। তাই 'have won'-এর বদলে শুধু 'won' হবে।</p></div></div>`},
            {q: "Identify the error: 'He is / comparatively / better / today.'", options: ["He is", "comparatively", "better", "today"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Comparatively' is already a comparison. Using the comparative degree 'better' with it makes it a double comparative error. Use 'good' instead of 'better', or remove 'comparatively'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Comparatively' শব্দের পর Positive Degree (good) বসে। 'Comparatively better' ভুল।</p></div></div>`},
            {q: "Identify the error: 'Supriya as well as / her friends / have gone / to the cinema.'", options: ["Supriya as well as", "her friends", "have gone", "to the cinema"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">When two subjects are joined by 'as well as', the verb agrees with the first subject. Supriya is singular, so it should be 'has gone'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'as well as' দিয়ে যুক্ত হলে প্রথম Subject (Supriya) অনুযায়ী Verb হবে। তাই 'have' না হয়ে 'has' হবে।</p></div></div>`},
            {q: "Identify the error: 'Unless you / do not work hard, / you will / fail.'", options: ["Unless you", "do not work hard,", "you will", "fail"], correct: 1, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Unless' itself is negative. Using 'do not' with it is a double negative error. It should be 'Unless you work hard'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Unless' মানেই 'যদি না'। তাই এর সাথে আবার 'not' বসে না।</p></div></div>`},
            {q: "Identify the error: 'We discussed / about the / matter / yesterday.'", options: ["We discussed", "about the", "matter", "yesterday"], correct: 1, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Discuss' is a transitive verb and takes a direct object. 'About' is superfluous. Correct: 'We discussed the matter'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Discuss' এর পর 'about' বসে না।</p></div></div>`},
            {q: "Identify the error: 'Many a / student / have / failed.'", options: ["Many a", "student", "have", "failed"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Many a' is always followed by a singular noun and singular verb. It should be 'has failed'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Many a' এর পর Noun এবং Verb দুটোই Singular হয়।</p></div></div>`},
            {q: "Identify the error: 'He has / disposed / off / the garbage.'", options: ["He has", "disposed", "off", "the garbage"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">The correct phrasal verb is 'dispose of' (meaning to get rid of). 'Dispose off' is incorrect.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">সঠিক Phrase হলো 'dispose of' (O-F), 'off' (O-F-F) নয়।</p></div></div>`},
            {q: "Identify the error: 'Despite / of hard work, / he failed / the exam.'", options: ["Despite", "of hard work,", "he failed", "the exam"], correct: 1, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Despite' does not take 'of'. 'In spite of' takes 'of'. Correct: 'Despite hard work'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Despite' এর সাথে 'of' বসে না। কিন্তু 'In spite of' হয়।</p></div></div>`},
            {q: "Identify the error: 'I bought / some / furnitures / for my house.'", options: ["I bought", "some", "furnitures", "for my house"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Furniture' is an uncountable noun. It cannot be pluralized by adding 's'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Furniture' সর্বদা Singular, এর সাথে s/es যুক্ত হয় না।</p></div></div>`},
            {q: "Identify the error: 'Neither of / the two boys / were / present.'", options: ["Neither of", "the two boys", "were", "present"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Neither of' takes a singular verb. It should be 'was present'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Neither of' এর পর verb টি singular হয়।</p></div></div>`},
            {q: "Identify the error: 'I prefer / tea / than / coffee.'", options: ["I prefer", "tea", "than", "coffee"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Prefer' takes the preposition 'to' for comparison, not 'than'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Prefer' এর সাথে 'to' বসে, 'than' নয়।</p></div></div>`},
            {q: "Identify the error: 'He entered / into / the room / quietly.'", options: ["He entered", "into", "the room", "quietly"], correct: 1, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Enter' (meaning to go in) does not take 'into'. 'Into' is used for agreements/alliances. Correct: 'He entered the room'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">ঘরে প্রবেশ করা অর্থে 'Enter' এর পর 'into' বসে না।</p></div></div>`},
            {q: "Identify the error: 'One of / my friend / has / gone abroad.'", options: ["One of", "my friend", "has", "gone abroad"], correct: 1, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'One of' must be followed by a plural noun. It should be 'One of my friends'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'One of' এর পর Noun টি Plural হয়। (my friends)।</p></div></div>`},
            {q: "Identify the error: 'She / returned back / the money / immediately.'", options: ["She", "returned back", "the money", "immediately"], correct: 1, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Return' means 'come back' or 'give back'. Using 'back' with it is superfluous. Correct: 'She returned the money'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Return' শব্দের মধ্যেই 'back' অর্থটি আছে, তাই আলাদা করে 'back' বসানো ভুল।</p></div></div>`},
            {q: "Identify the error: 'I am / looking forward / to meet / you.'", options: ["I am", "looking forward", "to meet", "you"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Looking forward to' is a phrase followed by a Gerund (V+ing). It should be 'to meeting'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Looking forward to' এর পর verb এর সাথে 'ing' যুক্ত হয়।</p></div></div>`},
            {q: "Identify the error: 'He works / hardly / to support / his family.'", options: ["He works", "hardly", "to support", "his family"], correct: 1, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Hardly' means 'almost not' (negative). 'Hard' means 'with effort'. He works 'hard' (with effort). </p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Hardly' মানে 'কদাচিৎ' বা 'প্রায় না'। কঠোর পরিশ্রম বোঝাতে 'hard' ব্যবহার করতে হয়।</p></div></div>`},
            {q: "Identify the error: 'The sheep's / wool / is / very soft.'", options: ["The sheep's", "wool", "is", "very soft"], correct: 3, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Correction</p><p class="text-slate-200">Actually, 'Sheep's wool' is grammatically okay possessive. However, usually we say 'The wool of the sheep'. If the option was 'Sheeps' (plural error), that would be wrong. Wait, 'Sheep' has no plural form 'Sheeps'. If the question text implies plural error, it's correct. Let's assume the question text meant 'The sheeps wool'. </p><p class="text-xs text-slate-400 italic">Self-correction: Standard error is usually 'Sheeps'. If text is 'Sheep's', it is correct. Let's change question to: 'The sheeps / are / grazing.'</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">Note: I will replace this with a clearer error. 'The sheeps are grazing' -> 'Sheeps' is wrong.</p></div></div>`},
            {q: "Identify the error: 'The sheeps / are grazing / in the / field.'", options: ["The sheeps", "are grazing", "in the", "field"], correct: 0, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Sheep' is the same in singular and plural. There is no word 'Sheeps'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Sheep'-এর plural 'Sheep'-ই হয়, 'Sheeps' হয় না।</p></div></div>`},
            {q: "Identify the error: 'He is / my / cousin / brother.'", options: ["He is", "my", "cousin", "brother"], correct: 3, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">We do not use 'brother' or 'sister' with 'Cousin'. 'He is my cousin' is sufficient.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Cousin' শব্দের সাথে 'brother' বা 'sister' ব্যবহার করা ভুল (Superfluous)।</p></div></div>`},
            {q: "Identify the error: 'Not only / the students / but also the teacher / are present.'", options: ["Not only", "the students", "but also the teacher", "are present"], correct: 3, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">With 'Not only... but also', the verb agrees with the subject nearest to it (the second subject). 'Teacher' is singular, so it should be 'is present'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'but also'-র পর যে Subject থাকে (Teacher), Verb সেই অনুযায়ী হয়। তাই 'is' হবে।</p></div></div>`},
            {q: "Identify the error: 'I / avail / of this / opportunity.'", options: ["I", "avail", "of this", "opportunity"], correct: 1, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Avail' is a reflexive verb and must take a reflexive pronoun (myself, yourself, etc.) before 'of'. Correct: 'I avail myself of...'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Avail' এর পর অবশ্যই Reflexive Pronoun (myself) বসাতে হয়।</p></div></div>`},
            {q: "Identify the error: 'Each of the / girls / have / a pen.'", options: ["Each of the", "girls", "have", "a pen"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Each of' takes a singular verb. It should be 'has'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Each of' থাকলে Verb সর্বদা Singular হয়।</p></div></div>`},
            {q: "Identify the error: 'I have / not seen him / since / twenty years.'", options: ["I have", "not seen him", "since", "twenty years"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Twenty years' is a period of time, so we use 'for'. 'Since' is used for a point of time.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">সময়ের ব্যাপ্তি (Period) বোঝালে 'for' বসে, নির্দিষ্ট সময় (Point) বোঝালে 'since' বসে।</p></div></div>`},
            {q: "Identify the error: 'He / runs / very / fastly.'", options: ["He", "runs", "very", "fastly"], correct: 3, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">There is no word like 'fastly'. 'Fast' is both an adjective and an adverb.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Fastly' বলে কোনো শব্দ নেই। 'Fast' শব্দটিই Adverb হিসেবে ব্যবহৃত হয়।</p></div></div>`},
            {q: "Identify the error: 'The police / has / arrived / at the scene.'", options: ["The police", "has", "arrived", "at the scene"], correct: 1, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">'Police' is a plural noun and takes a plural verb. It should be 'have'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">'Police' শব্দটি Plural, তাই 'have' হবে।</p></div></div>`},
            {q: "Identify the error: 'One should / keep / his / promises.'", options: ["One should", "keep", "his", "promises"], correct: 2, explanation: `<div class="space-y-4"><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-cyan-400 text-xs uppercase mb-1">Error Analysis</p><p class="text-slate-200">The possessive form of 'One' is 'One's', not 'His'. Correct: 'One should keep one's promises'.</p></div><div class="bg-slate-800/50 p-3 rounded-lg border border-slate-700"><p class="font-bold text-blue-400 text-xs uppercase mb-1">Bengali Explanation</p><p class="text-slate-200 bengali-text">Subject 'One' হলে Possessive 'one's' হয়, 'his' হয় না।</p></div></div>`}
        ];

        let currentQuestion = 0;
        let score = 0;
        let answered = false;
        let startTime;

        // Elements
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const currentQNum = document.getElementById('current-q-num');
        const scoreDisplay = document.getElementById('score-display');
        const progressBar = document.getElementById('progress-bar');
        const feedbackSection = document.getElementById('feedback-section');
        const feedbackMessage = document.getElementById('feedback-message');
        const explanationContent = document.getElementById('explanation-content');
        const toggleExplanationBtn = document.getElementById('toggle-explanation-btn');
        const nextBtn = document.getElementById('next-btn');
        const finishBtn = document.getElementById('finish-btn');

        // Functions
        function loadQuestion() {
            const q = questionsTest10[currentQuestion];
            answered = false;
            
            // Update UI
            currentQNum.innerText = currentQuestion + 1;
            questionText.innerText = q.q;
            scoreDisplay.innerText = `Score: ${score}`;
            
            // Update Progress Bar
            const progress = ((currentQuestion) / questionsTest10.length) * 100;
            progressBar.style.width = `${progress}%`;

            // Reset Feedback
            feedbackSection.classList.add('hidden');
            explanationContent.classList.add('hidden');
            explanationContent.innerHTML = q.explanation;
            toggleExplanationBtn.innerHTML = '<span class="bg-cyan-500/10 p-2 rounded-lg mr-3"><i class="fas fa-lightbulb"></i></span><span class="underline decoration-cyan-500/30 underline-offset-4">See Detailed Solution</span>';
            nextBtn.classList.add('hidden');
            finishBtn.classList.add('hidden');

            // Render Options
            optionsContainer.innerHTML = '';
            q.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left p-5 rounded-xl border border-slate-700/50 bg-slate-800/40 hover:bg-slate-700/60 hover:border-cyan-500/50 transition-all duration-200 font-medium text-slate-300 flex justify-between items-center group backdrop-blur-sm";
                btn.innerHTML = `<span class="flex items-center"><span class="w-8 h-8 rounded-full bg-slate-700 text-slate-400 flex items-center justify-center font-bold mr-4 group-hover:bg-cyan-500 group-hover:text-slate-900 transition-colors text-sm">${String.fromCharCode(65 + index)}</span> ${opt}</span>`;
                btn.onclick = () => checkAnswer(index, btn);
                optionsContainer.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex, selectedBtn) {
            if (answered) return;
            answered = true;
            
            const q = questionsTest10[currentQuestion];
            const allBtns = optionsContainer.children;
            
            if (selectedIndex === q.correct) {
                score++;
                selectedBtn.className = "w-full text-left p-5 rounded-xl border border-green-500 bg-green-500/10 flex justify-between items-center transition-all shadow-[0_0_15px_rgba(34,197,94,0.2)]";
                selectedBtn.innerHTML = `<span class="flex items-center text-white font-bold"><span class="w-8 h-8 rounded-full bg-green-500 text-slate-900 flex items-center justify-center font-bold mr-4 text-sm">${String.fromCharCode(65 + selectedIndex)}</span> ${q.options[selectedIndex]}</span><i class="fas fa-check-circle text-green-400 text-2xl drop-shadow-lg"></i>`;
                
                feedbackMessage.className = "flex items-center mb-6 p-4 rounded-xl bg-green-900/20 border border-green-500/30 text-green-300";
                feedbackMessage.innerHTML = '<div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center mr-4"><i class="fas fa-check text-green-400"></i></div> <span class="font-bold">Correct Answer! Well done.</span>';
            } else {
                selectedBtn.className = "w-full text-left p-5 rounded-xl border border-red-500 bg-red-500/10 flex justify-between items-center transition-all";
                selectedBtn.innerHTML = `<span class="flex items-center text-red-100"><span class="w-8 h-8 rounded-full bg-red-500 text-white flex items-center justify-center font-bold mr-4 text-sm">${String.fromCharCode(65 + selectedIndex)}</span> ${q.options[selectedIndex]}</span><i class="fas fa-times-circle text-red-400 text-2xl"></i>`;
                
                const correctBtn = allBtns[q.correct];
                correctBtn.className = "w-full text-left p-5 rounded-xl border border-green-500 bg-green-500/10 flex justify-between items-center transition-all shadow-[0_0_15px_rgba(34,197,94,0.2)] opacity-100";
                correctBtn.innerHTML = `<span class="flex items-center text-white font-bold"><span class="w-8 h-8 rounded-full bg-green-500 text-slate-900 flex items-center justify-center font-bold mr-4 text-sm">${String.fromCharCode(65 + q.correct)}</span> ${q.options[q.correct]}</span><i class="fas fa-check-circle text-green-400 text-2xl"></i>`;

                feedbackMessage.className = "flex items-center mb-6 p-4 rounded-xl bg-red-900/20 border border-red-500/30 text-red-300";
                feedbackMessage.innerHTML = `<div class="w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center mr-4"><i class="fas fa-times text-red-400"></i></div> <span>Incorrect. The correct segment is <span class="font-bold text-green-400 border-b border-green-400/30 pb-0.5">${q.options[q.correct]}</span></span>`;
            }

            for (let btn of allBtns) {
                btn.disabled = true;
                if (!btn.className.includes('green') && !btn.className.includes('red')) {
                     btn.classList.add('opacity-50', 'cursor-not-allowed');
                     btn.classList.remove('hover:bg-slate-700/60', 'hover:border-cyan-500/50');
                }
            }

            feedbackSection.classList.remove('hidden');
            scoreDisplay.innerText = `Score: ${score}`;

            if (currentQuestion < questionsTest10.length - 1) {
                nextBtn.classList.remove('hidden');
            } else {
                finishBtn.classList.remove('hidden');
            }
        }

        function toggleExplanation() {
            if (explanationContent.classList.contains('hidden')) {
                explanationContent.classList.remove('hidden');
                explanationContent.classList.add('fade-in');
                toggleExplanationBtn.innerHTML = '<span class="bg-cyan-500/10 p-2 rounded-lg mr-3"><i class="fas fa-eye-slash"></i></span><span class="underline decoration-cyan-500/30 underline-offset-4">Hide Solution</span>';
            } else {
                explanationContent.classList.add('hidden');
                toggleExplanationBtn.innerHTML = '<span class="bg-cyan-500/10 p-2 rounded-lg mr-3"><i class="fas fa-lightbulb"></i></span><span class="underline decoration-cyan-500/30 underline-offset-4">See Detailed Solution</span>';
            }
        }

        function nextQuestion() {
            currentQuestion++;
            loadQuestion();
        }

        function finishQuiz() {
            const endTime = new Date();
            const timeDiff = Math.floor((endTime - startTime) / 1000); // seconds
            const minutes = Math.floor(timeDiff / 60);
            const seconds = timeDiff % 60;
            const timeString = `${minutes}m ${seconds}s`;
            
            // Calc stats
            const total = questionsTest10.length;
            const accuracy = Math.round((score / total) * 100);
            const wrongAnswers = total - score;
            const sscScore = (score * 2) - (wrongAnswers * 0.5);
            
            // Get user name from URL params to pass it back
            const urlParams = new URLSearchParams(window.location.search);
            const name = urlParams.get('name') || "Student";

            // Redirect to Master Index with results (Action = result)
            // Note: testId is set to test10
            const redirectUrl = `index.html?action=result&score=${score}&total=${total}&accuracy=${accuracy}&time=${encodeURIComponent(timeString)}&sscScore=${sscScore}&name=${encodeURIComponent(name)}&testId=test10`;
            
            window.location.href = redirectUrl;
        }
        
        // Start on load
        window.onload = function() {
            startTime = new Date();
            loadQuestion();
        };

        // Expose to window for buttons
        window.checkAnswer = checkAnswer;
        window.toggleExplanation = toggleExplanation;
        window.nextQuestion = nextQuestion;
        window.finishQuiz = finishQuiz;
    </script>
</body>
</html>